#:kivy 1.10.1

<AnnualsBox>:
    annuals_container: _annuals_container
    size_hint: 1, None
    height: self.minimum_height
    FieldBox:
        disabled: True if root.info_window_status == 'open' else False
        FieldLabel:
            text: "Enter annuals"
        FieldBox:
            TextInput:
                id: _annual_issues_text
                on_text_validate: root.add_annuals(self.text) if self.text else None
                text_validate_unfocus: True
                # status_bar
                default_text: "Enter year range(s). Entering more complex ranges is also possible, eg. 1981-1984, 1-3, 1988, 4, 1990-1995"
                on_focus: root.status_bar.set_status(self.default_text) if self.focus else root.status_bar.clear_status()
            Button:
                text: 'add'
                disabled: False if _annual_issues_text.text else True
                on_release: root.add_annuals(_annual_issues_text.text)
    ScrollView:
        size_hint: 1, None
        height: _annuals_container.height if _annuals_container.height <= dp(149) else dp(150)
        padding: (dp(7.5), dp(7.5))
        BoxLayout:
            canvas:
                Color:
                    rgba: 0, 0, 0, 1
                Line:
                    width: dp(5)
                    rectangle: self.x + 5, self.y + 5, self.width - 10, self.height - 10
                Color:
                    rgba: (.2, .7, .9, .5)
                Line:
                    width: dp(1)
                    rectangle: self.x + 2.5, self.y + 2.5 , self.width - 5, self.height - 5
            id: _annuals_container
            _root: root
            size_hint: 1, None
            height: self.minimum_height
            padding: (dp(7.5), dp(15))



